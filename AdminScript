repeat wait() until game:IsLoaded()

if Isaint then
	game:GetService("StarterGui"):SetCore("SendNotification", {
		Title = "Isaint is already running",
		Text = "",
		Icon = ""
	})
	return
end

pcall(function()
	getgenv().Isaint = true
end)

function randomString()
	local length = math.random(50,100)
	local text = {}
	for i = 1, length do
		text[i] = string.char(math.random(65,122))
	end
	return table.concat(text)
end

local localPlayer = game.Players.LocalPlayer
local Mouse = localPlayer:GetMouse()
local inputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local floatupspeed = 0.2
local floatdownspeed = 0.2
local maxspeed = 100
local speed = 100
local fakelagging = false
local prefix = "'"
local chatprefix = ""

local Message = Instance.new("Message", workspace)
Message.Text = "Isaint Loaded, Press "..prefix.." to open the Gui!"
delay(2, function()
	Message:Destroy()
end)

local IsaintGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("ImageLabel")
local UpperLine = Instance.new("Frame")
local UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
local IsaintText = Instance.new("TextLabel")
local UIAspectRatioConstraint_2 = Instance.new("UIAspectRatioConstraint")
local TextBox = Instance.new("TextBox")
local UIAspectRatioConstraint_3 = Instance.new("UIAspectRatioConstraint")
local BottomLine = Instance.new("Frame")
local UIAspectRatioConstraint_4 = Instance.new("UIAspectRatioConstraint")
local Commands = Instance.new("ScrollingFrame")
local UIListLayout = Instance.new("UIListLayout")
local UIAspectRatioConstraint_5 = Instance.new("UIAspectRatioConstraint")
local UIAspectRatioConstraint_7 = Instance.new("UIAspectRatioConstraint")

--Properties:

IsaintGui.Name = randomString()
IsaintGui.Parent = game:GetService("CoreGui")

MainFrame.Name = "MainFrame"
MainFrame.Parent = IsaintGui
MainFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
MainFrame.BackgroundTransparency = 1.000
MainFrame.Position = UDim2.new(0.871999979, 0, 1, 0)
MainFrame.Size = UDim2.new(0.127999991, 0, 0.32132569, 0)
MainFrame.Image = "rbxassetid://3570695787"
MainFrame.ImageColor3 = Color3.fromRGB(29, 29, 29)
MainFrame.ScaleType = Enum.ScaleType.Slice
MainFrame.SliceCenter = Rect.new(100, 100, 100, 100)
MainFrame.SliceScale = 0.050

UpperLine.Name = "UpperLine"
UpperLine.Parent = MainFrame
UpperLine.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
UpperLine.BorderSizePixel = 0
UpperLine.Position = UDim2.new(0, 0, 0.11210762, 0)
UpperLine.Size = UDim2.new(1, 0, 0.00448430516, 0)

UIAspectRatioConstraint.Parent = UpperLine
UIAspectRatioConstraint.AspectRatio = 176.000

IsaintText.Name = "IsaintText"
IsaintText.Parent = MainFrame
IsaintText.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
IsaintText.BackgroundTransparency = 1.000
IsaintText.BorderSizePixel = 0
IsaintText.Size = UDim2.new(0.99999994, 0, 0.11210762, 0)
IsaintText.Font = Enum.Font.Kalam
IsaintText.Text = "Isaint"
IsaintText.TextColor3 = Color3.fromRGB(255, 255, 255)
IsaintText.TextSize = 35.000
IsaintText.TextWrapped = true

UIAspectRatioConstraint_2.Parent = IsaintText
UIAspectRatioConstraint_2.AspectRatio = 7.040

TextBox.Parent = MainFrame
TextBox.BackgroundColor3 = Color3.fromRGB(56, 56, 56)
TextBox.BorderSizePixel = 0
TextBox.Position = UDim2.new(0, 0, 0.11659193, 0)
TextBox.Size = UDim2.new(1, 0, 0.0807174891, 0)
TextBox.Font = Enum.Font.SourceSans
TextBox.ClipsDescendants = true
TextBox.Text = ""
TextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
TextBox.TextSize = 14.000

UIAspectRatioConstraint_3.Parent = TextBox
UIAspectRatioConstraint_3.AspectRatio = 9.778

BottomLine.Name = "BottomLine"
BottomLine.Parent = MainFrame
BottomLine.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
BottomLine.BorderSizePixel = 0
BottomLine.Position = UDim2.new(0, 0, 0.19730942, 0)
BottomLine.Size = UDim2.new(1, 0, 0.00448430516, 0)

UIAspectRatioConstraint_4.Parent = BottomLine
UIAspectRatioConstraint_4.AspectRatio = 176.000

Commands.Name = "Commands"
Commands.Parent = MainFrame
Commands.Active = true
Commands.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Commands.BackgroundTransparency = 1.000
Commands.BorderSizePixel = 0
Commands.Position = UDim2.new(0, 0, 0.19730942, 0)
Commands.Size = UDim2.new(1, 0, 0.802690566, 0)
Commands.CanvasSize = UDim2.new(0, 0, 500, 0)

UIListLayout.Parent = Commands
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

UIAspectRatioConstraint_5.Parent = Commands
UIAspectRatioConstraint_5.AspectRatio = 0.983

UIAspectRatioConstraint_7.Parent = MainFrame
UIAspectRatioConstraint_7.AspectRatio = 0.789

local Settings = Instance.new("ScreenGui")
local Background = Instance.new("Frame")
local FlySpeed = Instance.new("TextLabel")
local FlySpeedSlider = Instance.new("Frame")
local Slider = Instance.new("TextButton")
local UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
local TextLabel = Instance.new("TextLabel")
local UIAspectRatioConstraint_2 = Instance.new("UIAspectRatioConstraint")
local FlyUnderline = Instance.new("Frame")
local UIAspectRatioConstraint_3 = Instance.new("UIAspectRatioConstraint")
local UIAspectRatioConstraint_4 = Instance.new("UIAspectRatioConstraint")
local UIAspectRatioConstraint_5 = Instance.new("UIAspectRatioConstraint")
local ChatPrefix = Instance.new("TextLabel")
local ChatPrefixBox = Instance.new("TextBox")
local UIAspectRatioConstraint_6 = Instance.new("UIAspectRatioConstraint")
local ChatSideLine = Instance.new("Frame")
local UIAspectRatioConstraint_7 = Instance.new("UIAspectRatioConstraint")
local ChatUnderline2 = Instance.new("Frame")
local UIAspectRatioConstraint_8 = Instance.new("UIAspectRatioConstraint")
local UIAspectRatioConstraint_9 = Instance.new("UIAspectRatioConstraint")
local IsaintPrefix = Instance.new("TextLabel")
local IsiantPrefixBox = Instance.new("TextBox")
local UIAspectRatioConstraint_10 = Instance.new("UIAspectRatioConstraint")
local PrefixSideLine = Instance.new("Frame")
local UIAspectRatioConstraint_11 = Instance.new("UIAspectRatioConstraint")
local PrefixUnderline = Instance.new("Frame")
local UIAspectRatioConstraint_12 = Instance.new("UIAspectRatioConstraint")
local UIAspectRatioConstraint_13 = Instance.new("UIAspectRatioConstraint")
local CloseButton = Instance.new("TextButton")
local UIAspectRatioConstraint_14 = Instance.new("UIAspectRatioConstraint")
local UIAspectRatioConstraint_15 = Instance.new("UIAspectRatioConstraint")
local UIAspectRatioConstraint_16 = Instance.new("UIAspectRatioConstraint")

Settings.Name = "Settings"
Settings.Parent = game.CoreGui
Settings.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

Background.Name = "Background"
Background.Parent = Settings
Background.BackgroundColor3 = Color3.fromRGB(58, 58, 58)
Background.BorderSizePixel = 0
Background.Position = UDim2.new(0, 0, 1, 0)
Background.Size = UDim2.new(0.416463226, 0, 0.486646891, 0)

FlySpeed.Name = "FlySpeed"
FlySpeed.Parent = Background
FlySpeed.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
FlySpeed.BackgroundTransparency = 1.000
FlySpeed.Size = UDim2.new(1, 0, 0.038636364, 0)
FlySpeed.Font = Enum.Font.SourceSans
FlySpeed.Text = "Fly Speed:"
FlySpeed.TextColor3 = Color3.fromRGB(255, 255, 255)
FlySpeed.TextSize = 14.000

FlySpeedSlider.Name = "FlySpeedSlider"
FlySpeedSlider.Parent = FlySpeed
FlySpeedSlider.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
FlySpeedSlider.BorderSizePixel = 0
FlySpeedSlider.Position = UDim2.new(0, 0, 1.58823526, 0)
FlySpeedSlider.Size = UDim2.new(0.88397789, 0, 0.176470593, 0)

Slider.Name = "Slider"
Slider.Parent = FlySpeedSlider
Slider.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Slider.BorderSizePixel = 0
Slider.Position = UDim2.new(0.174999997, 0, -2.33333325, 0)
Slider.Size = UDim2.new(0.0078125, 0, 6.33333349, 0)
Slider.Font = Enum.Font.SourceSans
Slider.Text = ""
Slider.TextColor3 = Color3.fromRGB(0, 0, 0)
Slider.TextSize = 14.000

UIAspectRatioConstraint.Parent = Slider
UIAspectRatioConstraint.AspectRatio = 0.263

TextLabel.Parent = FlySpeedSlider
TextLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TextLabel.BackgroundTransparency = 1.000
TextLabel.BorderSizePixel = 0
TextLabel.Position = UDim2.new(1.00937498, 0, -2, 0)
TextLabel.Size = UDim2.new(0.090625003, 0, 8.33333302, 0)
TextLabel.Font = Enum.Font.SourceSans
TextLabel.Text = "100"
TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TextLabel.TextSize = 25.000
TextLabel.ClipsDescendants = true
TextLabel.TextXAlignment = Enum.TextXAlignment.Left

UIAspectRatioConstraint_2.Parent = TextLabel
UIAspectRatioConstraint_2.AspectRatio = 2.320

FlyUnderline.Name = "FlyUnderline"
FlyUnderline.Parent = FlySpeedSlider
FlyUnderline.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
FlyUnderline.BorderSizePixel = 0
FlyUnderline.Position = UDim2.new(0, 0, 4.33333349, 0)
FlyUnderline.Size = UDim2.new(1.13125002, 0, 0.333333343, 0)

UIAspectRatioConstraint_3.Parent = FlyUnderline
UIAspectRatioConstraint_3.AspectRatio = 724.000

UIAspectRatioConstraint_4.Parent = FlySpeedSlider
UIAspectRatioConstraint_4.AspectRatio = 213.333

UIAspectRatioConstraint_5.Parent = FlySpeed
UIAspectRatioConstraint_5.AspectRatio = 42.588

ChatPrefix.Name = "Chat Prefix"
ChatPrefix.Parent = Background
ChatPrefix.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ChatPrefix.BackgroundTransparency = 1.000
ChatPrefix.Position = UDim2.new(0, 0, 0.0931818187, 0)
ChatPrefix.Size = UDim2.new(0.352209955, 0, 0.038636364, 0)
ChatPrefix.Font = Enum.Font.SourceSans
ChatPrefix.Text = "Chat Prefix:"
ChatPrefix.TextColor3 = Color3.fromRGB(255, 255, 255)
ChatPrefix.TextSize = 14.000

ChatPrefixBox.Name = "ChatPrefixBox"
ChatPrefixBox.Parent = ChatPrefix
ChatPrefixBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ChatPrefixBox.BorderSizePixel = 0
ChatPrefixBox.Position = UDim2.new(0.105882362, 0, 1, 0)
ChatPrefixBox.Size = UDim2.new(0.784313798, 0, 1.29411769, 0)
ChatPrefixBox.Font = Enum.Font.SourceSans
ChatPrefixBox.Text = ";"
ChatPrefixBox.TextColor3 = Color3.fromRGB(0, 0, 0)
ChatPrefixBox.TextScaled = true
ChatPrefixBox.TextSize = 14.000
ChatPrefixBox.TextWrapped = true

UIAspectRatioConstraint_6.Parent = ChatPrefixBox
UIAspectRatioConstraint_6.AspectRatio = 9.091

ChatSideLine.Name = "ChatSideLine"
ChatSideLine.Parent = ChatPrefix
ChatSideLine.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ChatSideLine.BorderSizePixel = 0
ChatSideLine.Position = UDim2.new(1.00000012, 0, 0, 0)
ChatSideLine.Size = UDim2.new(0.00392156886, 0, 2.29411769, 0)

UIAspectRatioConstraint_7.Parent = ChatSideLine
UIAspectRatioConstraint_7.AspectRatio = 0.026

ChatUnderline2.Name = "ChatUnderline2"
ChatUnderline2.Parent = ChatPrefix
ChatUnderline2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ChatUnderline2.BorderSizePixel = 0
ChatUnderline2.Position = UDim2.new(0, 0, 2.2352941, 0)
ChatUnderline2.Size = UDim2.new(1.00392163, 0, 0.0588235296, 0)

UIAspectRatioConstraint_8.Parent = ChatUnderline2
UIAspectRatioConstraint_8.AspectRatio = 256.000

UIAspectRatioConstraint_9.Parent = ChatPrefix
UIAspectRatioConstraint_9.AspectRatio = 15.000

IsaintPrefix.Name = "Isaint Prefix"
IsaintPrefix.Parent = Background
IsaintPrefix.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
IsaintPrefix.BackgroundTransparency = 1.000
IsaintPrefix.Position = UDim2.new(0.352209955, 0, 0.0931818187, 0)
IsaintPrefix.Size = UDim2.new(0.352209926, 0, 0.038636364, 0)
IsaintPrefix.Font = Enum.Font.SourceSans
IsaintPrefix.Text = "Chat Prefix:"
IsaintPrefix.TextColor3 = Color3.fromRGB(255, 255, 255)
IsaintPrefix.TextSize = 14.000

IsiantPrefixBox.Name = "IsiantPrefixBox"
IsiantPrefixBox.Parent = IsaintPrefix
IsiantPrefixBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
IsiantPrefixBox.BorderSizePixel = 0
IsiantPrefixBox.Position = UDim2.new(0.105882362, 0, 1.00000012, 0)
IsiantPrefixBox.Size = UDim2.new(0.784313798, 0, 1.29411781, 0)
IsiantPrefixBox.Font = Enum.Font.SourceSans
IsiantPrefixBox.Text = "'"
IsiantPrefixBox.TextColor3 = Color3.fromRGB(0, 0, 0)
IsiantPrefixBox.TextScaled = true
IsiantPrefixBox.TextSize = 14.000
IsiantPrefixBox.TextWrapped = true

UIAspectRatioConstraint_10.Parent = IsiantPrefixBox
UIAspectRatioConstraint_10.AspectRatio = 9.091

PrefixSideLine.Name = "PrefixSideLine"
PrefixSideLine.Parent = IsaintPrefix
PrefixSideLine.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
PrefixSideLine.BorderSizePixel = 0
PrefixSideLine.Position = UDim2.new(0.996078491, 0, 0, 0)
PrefixSideLine.Size = UDim2.new(0.00392156886, 0, 2.29411793, 0)

UIAspectRatioConstraint_11.Parent = PrefixSideLine
UIAspectRatioConstraint_11.AspectRatio = 0.026

PrefixUnderline.Name = "PrefixUnderline"
PrefixUnderline.Parent = IsaintPrefix
PrefixUnderline.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
PrefixUnderline.BorderSizePixel = 0
PrefixUnderline.Position = UDim2.new(0, 0, 2.23529434, 0)
PrefixUnderline.Size = UDim2.new(1.00392163, 0, 0.0588235371, 0)

UIAspectRatioConstraint_12.Parent = PrefixUnderline
UIAspectRatioConstraint_12.AspectRatio = 256.000

UIAspectRatioConstraint_13.Parent = IsaintPrefix
UIAspectRatioConstraint_13.AspectRatio = 15.000

CloseButton.Name = "CloseButton"
CloseButton.Parent = Background
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
CloseButton.BorderSizePixel = 0
CloseButton.Position = UDim2.new(0.882596672, 0, 0, 0)
CloseButton.Size = UDim2.new(0.116022088, 0, 0.0363636352, 0)
CloseButton.Font = Enum.Font.SourceSans
CloseButton.Text = "Close"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 14.000

UIAspectRatioConstraint_14.Parent = CloseButton
UIAspectRatioConstraint_14.AspectRatio = 5.250

UIAspectRatioConstraint_15.Parent = Background
UIAspectRatioConstraint_15.AspectRatio = 1.645

UIAspectRatioConstraint_16.Parent = Settings
UIAspectRatioConstraint_16.AspectRatio = 1.923

local SettingsTweenIn = TweenInfo.new(0.3, Enum.EasingStyle.Sine, Enum.EasingDirection.In, 0, false, 0)
local SettingsTweenOut = TweenInfo.new(0.3, Enum.EasingStyle.Sine, Enum.EasingDirection.Out, 0, false, 0)

local SettingsTweenInGoal = {Position = UDim2.new(0, 0, 0.513353109, 0)}
local SettingsTweenOutGoal = {Position = UDim2.new(0, 0, 1, 0)}

local SettingsTweenIn1 = TweenService:Create(Background,SettingsTweenIn, SettingsTweenInGoal)
local SettingsTweenOut1 = TweenService:Create(Background,SettingsTweenOut, SettingsTweenOutGoal)

spawn(function()
	while wait() do
		prefix = IsiantPrefixBox.Text
		chatprefix = ChatPrefixBox.Text
	end
end)

-- Functions:

function sendNotification(Text, Text2, Icon)
	game:GetService("StarterGui"):SetCore("SendNotification", {
		Title = Text,
		Text = Text2,
		Icon = Icon
	})
end

function createTool(ToolName, ToolTip, ToolDrop, ToolHandle, ToolParent)
	local newTool = Instance.new("Tool")
	newTool.Name = ToolName
	newTool.ToolTip = ToolTip
	newTool.CanBeDropped = ToolDrop
	newTool.RequiresHandle = ToolHandle
	newTool.Parent = ToolParent
end

function newCmd(cmdName)
	local TextLabel = Instance.new("TextLabel")
	local UIAspectRatioConstraint_6 = Instance.new("UIAspectRatioConstraint")
	TextLabel.Parent = Commands
	TextLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	TextLabel.BackgroundTransparency = 1.000
	TextLabel.BorderSizePixel = 0
	TextLabel.Text = cmdName
	TextLabel.Size = UDim2.new(1.00000012, 0, 0.111731835, 0)
	TextLabel.Font = Enum.Font.SourceSans
	TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
	TextLabel.TextSize = 20.000

	UIAspectRatioConstraint_6.Parent = TextLabel
	UIAspectRatioConstraint_6.AspectRatio = 8.800
end

function getPlayer(a12345678)
	local player = {}
	if a12345678:lower() == "others" then
		for i ,v in pairs(game.Players:GetPlayers()) do
			if v.Name ~= localPlayer.Name then
				table.insert(player, v)
			end
		end
	elseif a12345678:lower() == "all" then
		for i ,v in pairs(game.Players:GetPlayers()) do
			table.insert(player, v)
		end
	elseif a12345678:lower() == "me" then
		for i ,v in pairs(game.Players:GetPlayers()) do
			if v.Name == localPlayer.Name then
				table.insert(player, v)
			end
		end
	else
		for i ,v in pairs(game.Players:GetPlayers()) do
			if v.DisplayName:lower():sub(1, #a12345678) == a12345678:lower() then
				table.insert(player, v)
			elseif v.Name:lower():sub(1, #a12345678) == a12345678:lower() then
				table.insert(player, v)
			else
				sendNotification("Player not Found!")
			end
		end
	end
	return player
end

-- Functions Part 2:

newCmd("Admin Powers:")
newCmd("goto <player>")
newCmd("fly on/off")
newCmd("noclip on/off")
newCmd("speed <speed>")
newCmd("jp <jumppower>")
newCmd("grav <gravity>")
newCmd("hh <hipheight>")
newCmd("annoy on/off <player>")
newCmd("headstand on/off <player>")
newCmd("follow on/off <player>")
newCmd("infjump on/off")
newCmd("view on/off <player>")
newCmd("run <script>")
newCmd("spin on/off <speed>")
newCmd("seizure on/off")
newCmd("launch on/off")
newCmd("sync <player>")
newCmd("sit (best script)")
newCmd("float (G=toggle,E=up,Q=down)")
newCmd("floatspeed <up> <down>")
newCmd("headhitter (R=toggle)")
newCmd("lag on/off")
newcmd("blow on/off <player>")
newCmd("")

newCmd("Random Commands:")
newCmd("re")
newCmd("rj")
newCmd("goldboomboxgrip")
newCmd("spam on <text>")
newCmd("mutesounds")
newCmd("playsounds")
newCmd("joindate <player>")
newCmd("printremotes")
newCmd("close")
newCmd("rface")
newCmd("rhats")
newCmd("rhatmesh")
newCmd("drophats")
newCmd("rtoolmesh")
newCmd("")

newCmd("Games:")
newCmd("(Ragdoll Engine)")
newCmd("reantiragdoll on/off")
newCmd("retools")
newCmd("reheadless <player>")
newCmd("reunheadless <player>")
newCmd("reredmines on/off")
newCmd("resmoothbomb on/off")
newCmd("rebald on/off <player>")
newCmd("reinvistool")
newCmd("renoragcooldown on/off")
newCmd("reblockplayer on/off <player>")
newCmd("reflyingheads on/off")
newCmd("remapvis <transparency>")
newCmd("replayervis <transparency>")
newCmd("restairvis <transparency>")
newCmd("refakekorblox on/off <player>")
newCmd("reonlylegs on/off")
newCmd("reweirdbody on/off <player>")
newCmd("refixkorblox on/off <player>")
newCmd("")

newCmd("(Tower of Hell)")
newCmd("tohgod")
newCmd("tohtpend")
newCmd("")

newCmd("Credits:")
newCmd("Made by LeqendaryTxl (txl#3913)")

local Info = TweenInfo.new(0.2, Enum.EasingStyle.Sine, Enum.EasingDirection.In, 0, false, 0)
local Info2 = TweenInfo.new(0.2, Enum.EasingStyle.Sine, Enum.EasingDirection.Out, 0, false, 0)
local In = {Position = UDim2.new(0.872, 0, 1, 0)}
local Out = {Position = UDim2.new(0.872, 0, 0.706, 0)}

local inTween = TweenService:Create(MainFrame, Info, In)
local outTween = TweenService:Create(MainFrame, Info2, Out)

outTween:Play()
delay(2, function()
	inTween:Play()
end)

Mouse.KeyDown:connect(function(o) 
	if o == chatprefix then
		wait() 
		localPlayer.PlayerGui.Chat.Frame.ChatBarParentFrame.Frame.BoxFrame.Frame.ChatBar:CaptureFocus()
	end 
end)

localPlayer:GetMouse().KeyDown:Connect(function(keyPressed)
	if keyPressed == prefix then
		wait()
		outTween:Play()
		TextBox:CaptureFocus()
	end
end)

TextBox.FocusLost:Connect(function()
	inTween:Play()
	local a = TextBox.Text:split(" ")

	if a[1] == "rj" then
		game:GetService("TeleportService"):Teleport(game.PlaceId, game:GetService("Players").LocalPlayer)
	end

	if a[1] == "goto" then
		for i ,v in pairs(getPlayer(a[2])) do
			wait()
			local info = TweenInfo.new(0.3, Enum.EasingStyle.Linear, Enum.EasingDirection.Out, 0, false, 0)
			local goal = {CFrame = v.Character.HumanoidRootPart.CFrame}

			local gotoTween = TweenService:Create(localPlayer.Character.HumanoidRootPart, info, goal)
			gotoTween:Play()
		end
	end

	if a[1] == "fly" then
		repeat wait()
		until game.Players.LocalPlayer and game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:findFirstChild("HumanoidRootPart") and game.Players.LocalPlayer.Character:findFirstChild("Humanoid")
		local mouse = game.Players.LocalPlayer:GetMouse()
		repeat wait() until mouse
		local localPlayer = game.Players.LocalPlayer
		local torso = localPlayer.Character.HumanoidRootPart
		local flying = false
		local deb = true
		local ctrl = {f = 0, b = 0, l = 0, r = 0}
		local lastctrl = {f = 0, b = 0, l = 0, r = 0}

		if a[2] == "on" then
			flying = true

			local bg = Instance.new("BodyGyro", torso)
			bg.P = 9e4
			bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
			bg.cframe = torso.CFrame
			local bv = Instance.new("BodyVelocity", torso)
			bv.velocity = Vector3.new(0,0.1,0)
			bv.maxForce = Vector3.new(9e9, 9e9, 9e9)


			flyyes = game:GetService("RunService").RenderStepped:Connect(function()
				localPlayer.Character.Humanoid.PlatformStand = true
				if ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0 then
					speed = speed+.5+(speed/maxspeed)
					if speed > maxspeed then
						speed = maxspeed
					end
				elseif not (ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0) and speed ~= 0 then
					speed = speed-1
					if speed < 0 then
						speed = 0
					end
				end
				if (ctrl.l + ctrl.r) ~= 0 or (ctrl.f + ctrl.b) ~= 0 then
					bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (ctrl.f+ctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(ctrl.l+ctrl.r,(ctrl.f+ctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
					lastctrl = {f = ctrl.f, b = ctrl.b, l = ctrl.l, r = ctrl.r}
				elseif (ctrl.l + ctrl.r) == 0 and (ctrl.f + ctrl.b) == 0 and speed ~= 0 then
					bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (lastctrl.f+lastctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(lastctrl.l+lastctrl.r,(lastctrl.f+lastctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
				else
					bv.velocity = Vector3.new(0,0.1,0)
				end
				bg.cframe = game.Workspace.CurrentCamera.CoordinateFrame * CFrame.Angles(-math.rad((ctrl.f+ctrl.b)*50*speed/maxspeed),0,0)
			end)

			mouse.KeyDown:connect(function(key)
				if key:lower() == "w" then
					ctrl.f = 1
				elseif key:lower() == "s" then
					ctrl.b = -1
				elseif key:lower() == "a" then
					ctrl.l = -1
				elseif key:lower() == "d" then
					ctrl.r = 1
				end
			end)
			mouse.KeyUp:connect(function(key)
				if key:lower() == "w" then
					ctrl.f = 0
				elseif key:lower() == "s" then
					ctrl.b = 0
				elseif key:lower() == "a" then
					ctrl.l = 0
				elseif key:lower() == "d" then
					ctrl.r = 0
				end

			end)
		elseif a[2] == "off" then
			flying = false

			flyyes:Disconnect()

			ctrl = {f = 0, b = 0, l = 0, r = 0}
			lastctrl = {f = 0, b = 0, l = 0, r = 0}
			speed = 0

			localPlayer.Character.HumanoidRootPart.BodyGyro:Destroy()
			localPlayer.Character.HumanoidRootPart.BodyVelocity:Destroy()
			localPlayer.Character.Humanoid.PlatformStand = false
		end

		game.Players.LocalPlayer.Character.Humanoid.Died:Connect(function()
			flying = false
			flyyes:Disconnect()
			localPlayer.Character.Humanoid.PlatformStand = false
		end)
	end

	if a[1] == "speed" then
		localPlayer.Character.Humanoid.WalkSpeed = tonumber(a[2])
	end

	if a[1] == "jp" then
		localPlayer.Character.Humanoid.JumpPower = tonumber(a[2])
	end

	if a[1] == "grav" then
		workspace.Gravity = tonumber(a[2])
	end

	if a[1] == "annoy" then
		if a[2] == "on" then
			for i ,v in pairs(getPlayer(a[3])) do
				_G.annoy = game:GetService("RunService").RenderStepped:Connect(function()
					localPlayer.Character.HumanoidRootPart.CFrame = v.Character.Head.CFrame
				end)
			end
		elseif a[2] == "off" then
			_G.annoy:Disconnect()
		end
	end

	if a[1] == "follow" then
		if a[2] == "on" then
			for i ,v in pairs(getPlayer(a[3])) do
				_G.follow = game:GetService("RunService").RenderStepped:Connect(function()
					localPlayer.Character.Humanoid:MoveTo(v.Character.HumanoidRootPart.Position)
				end)
			end
		elseif a[2] == "off" then
			_G.follow:Disconnect()
		end
	end

	if a[1] == "reantiragdoll" then
		if a[2] == "on" then
			localPlayer.Character["Local Ragdoll"].Disabled = true
		elseif a[2] == "off" then
			localPlayer.Character["Local Ragdoll"].Disabled = false
		end
	end

	if a[1] == "tptool" then
		createTool("Tp Tool", "Click somewhere to Teleport!", false, false, localPlayer.Backpack)
		local Tool = localPlayer.Backpack:WaitForChild("Tp Tool")
		local Part = Instance.new("Part", Tool)
		Part.Anchored = true
		Part.Shape = "Ball"
		Part.Size = Vector3.new(0.3, 0.3, 0.3)
		Part.Color = Color3.new(1, 0, 0)
		Part.Material = Enum.Material.Neon

		Tool.Equipped:Connect(function(toolEquipped)
			spawn(function()
				partMove = game:GetService("RunService").RenderStepped:Connect(function()
					Part.Position = Mouse.Hit.p
				end)

				partRotation = game:GetService("RunService").RenderStepped:Connect(function()
					Part.Orientation = localPlayer.Character.HumanoidRootPart.Orientation
				end)
			end)

			toolEquipped.Button1Down:Connect(function()
				local info = TweenInfo.new(0.1, Enum.EasingStyle.Linear, Enum.EasingDirection.Out, 0, false, 0)
				local goal = {CFrame = Part.CFrame + Vector3.new(0, 3, 0)}

				local gotoTween = TweenService:Create(localPlayer.Character.HumanoidRootPart, info, goal)
				gotoTween:Play()
			end)
		end)

		Tool.Unequipped:Connect(function()
			partMove:Disconnect()
			partRotation:Disconnect()
		end)
	end

	if a[1] == "retools" then
		createTool("Push \n", "Push People (Cooldown 0 Sec)", false, false, localPlayer.Backpack)
		createTool("Super Push", "Super Push People (Cooldown 0 Sec", false, false, localPlayer.Backpack)
		createTool("Mega Push", "Mega Push People (Cooldown 0 Sec", false, false, localPlayer.Backpack)

		local Tool = localPlayer.Backpack:FindFirstChild("Push \n")
		local Tool2 = localPlayer.Backpack:FindFirstChild("Super Push")
		local Tool3 = localPlayer.Backpack:FindFirstChild("Mega Push")

		Tool.Equipped:Connect(function(Equipped)
			Equipped.Button1Down:Connect(function()
				for i ,v in pairs(game:GetDescendants()) do
					if v:IsA("RemoteEvent") and v.Name == "PushEvent" then
						v:FireServer()
						return
					end
				end
			end)
		end)

		Tool2.Equipped:Connect(function(Equipped)
			Equipped.Button1Down:Connect(function()
				for i ,v in pairs(game:GetDescendants()) do
					if v:IsA("RemoteEvent") and v.Name == "PushEvent" then
						for i = 1, 30, 1 do
							v:FireServer()
						end
						return
					end
				end
			end)
		end)

		Tool3.Equipped:Connect(function(Equipped)
			Equipped.Button1Down:Connect(function()
				for i ,v in pairs(game:GetDescendants()) do
					if v:IsA("RemoteEvent") and v.Name == "PushEvent" then
						for i = 1, 300, 1 do
							v:FireServer()
						end
						return
					end
				end
			end)
		end)
	end

	if a[1] == "re" then
		if localPlayer.Character.Humanoid.RigType == Enum.HumanoidRigType.R15 then
			localPlayer.Character.UpperTorso:Destroy()
		else
			localPlayer.Character.Torso:Destroy()
		end
		localPlayer.Character.HumanoidRootPart.Anchored = true

		_G.respawn = workspace.ChildAdded:Connect(function(respawned)
			if respawned.Name == localPlayer.Name then
				local Part = Instance.new("Part",workspace)
				Part.Anchored = true
				Part.CanCollide = false
				Part.Name = "RespawnPart"
				Part.CFrame = localPlayer.Character.HumanoidRootPart.CFrame
				wait()
				localPlayer.Character:WaitForChild("Humanoid")
				localPlayer.Character:WaitForChild("HumanoidRootPart")
				localPlayer.Character.HumanoidRootPart.CFrame = Part.CFrame		
				Part:Destroy()
			end
		end)


		workspace.ChildRemoved:Connect(function(done)
			if done.Name == "RespawnPart" then
				_G.respawn:Disconnect()
			end
		end)
	end

	if a[1] == "goldboomboxgrip"  then
		if localPlayer.Backpack:FindFirstChild("BoomBox") then
			localPlayer.Backpack.BoomBox.GripPos = Vector3.new(0, 0.86, 0)
			localPlayer.Backpack.BoomBox.GripUp = Vector3.new(1, 0, 0)
			localPlayer.Backpack.BoomBox.GripRight = Vector3.new(0, 0, 1)
			localPlayer.Backpack.BoomBox.GripForward = Vector3.new(-0, -0, 1)
			localPlayer.Backpack.BoomBox.GripRight = Vector3.new(0, 0, 1)
			localPlayer.Backpack.BoomBox.Parent = localPlayer.Character
			wait(0.1)
			for i ,v in pairs(localPlayer.Character.Humanoid:GetPlayingAnimationTracks()) do
				wait(0.1)
				v:Stop()
			end
		else
			localPlayer.Character.BoomBox.GripPos = Vector3.new(0, 0.86, 0)
			localPlayer.Character.BoomBox.GripUp = Vector3.new(1, 0, 0)
			localPlayer.Character.BoomBox.GripRight = Vector3.new(0, 0, 1)
			localPlayer.Character.BoomBox.GripForward = Vector3.new(-0, -0, 1)
			localPlayer.Character.BoomBox.GripRight = Vector3.new(0, 0, 1)
			localPlayer.Character.BoomBox.Parent = localPlayer.Backpack
			localPlayer.Backpack.BoomBox.Parent = localPlayer.Character
			wait(0.1)
			for i ,v in pairs(localPlayer.Character.Humanoid:GetPlayingAnimationTracks()) do
				wait(0.1)
				v:Stop()
			end
		end
	end

	if a[1] == "spam" then
		local spam = false
		if a[2] == "on" then
			local spam = true
			while spam == true do
				wait(1)
				game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer(a[3], "All")
			end
		elseif a[2] == "off" then
			spam = false
		end
	end

	if a[1] == "infjump" then
		if a[2] == "on" then
			_G.infjump = inputService.InputBegan:Connect(function(inputBegan)
				if inputBegan.KeyCode == Enum.KeyCode.Space then
					if not inputService:GetFocusedTextBox() then
						localPlayer.Character:FindFirstChildOfClass("Humanoid"):ChangeState("Jumping")
					end
				end
			end)
		elseif a[2] == "off" then
			_G.infjump:Disconnect()
		end
	end

	if a[1] == "view" then
		if a[2] == "on" then
			for i ,v in pairs(getPlayer(a[3])) do
				view = game:GetService("RunService").RenderStepped:Connect(function()
					workspace.CurrentCamera.CameraSubject = v.Character
				end)

				leavenoti = game.Players.PlayerRemoving:Connect(function(playerRemoved)
					if playerRemoved.Name == v.Name then
						view:Disconnect()
						workspace.CurrentCamera.CameraSubject = localPlayer.Character
						sendNotification("View Stopped!", "Player left!")
					end
				end)
			end
		elseif a[2] == "off" then
			view:Disconnect()
			leavenoti:Disconnect()
			workspace.CurrentCamera.CameraSubject = localPlayer.Character
		end
	end

	if a[1] == "mutesounds" then
		for i ,v in pairs(game:GetDescendants()) do
			if v:IsA("Sound") and v.Playing == true then
				v:Stop()
			end
		end
	end

	if a[1] == "noclip" then
		if a[2] == "on" then
			_G.noclip = game:GetService("RunService").RenderStepped:Connect(function()
				localPlayer.Character.Humanoid:ChangeState(11)
			end)
		elseif a[2] == "off" then
			_G.noclip:Disconnect()
		end
	end

	if a[1] == "joindate" then
		for i ,v in pairs(getPlayer(a[2])) do
			local Time = os.time() - (60 * 60 * 24 * v.AccountAge)
			local date = os.date("!*t", Time)

			sendNotification(v.Name.."'s Join date", "Player Joined on the "..date.day.."/"..date.month.."/"..date.year.."\n ("..v.AccountAge.." Days)")
		end
	end

	if a[1] == "reheadless" then
		for i ,v in pairs(getPlayer(a[2])) do
			for y, potion in pairs(game.Players:GetPlayers()) do
				_G.tool = potion.Backpack:FindFirstChild("OddPotion") or potion.Character:FindFirstChild("OddPotion")
				if _G.tool then
					break
				end
			end

			for i ,v in pairs(v.Character.Head:GetChildren()) do
				_G.tool.TransEvent:FireServer(v, 1)
				_G.tool.TransEvent:FireServer(v.Parent, 1)
			end
		end
	end

	if a[1] == "reunheadless" then
		for i ,v in pairs(getPlayer(a[2])) do
			for y, potion in pairs(game.Players:GetPlayers()) do
				_G.tool = potion.Backpack:FindFirstChild("OddPotion") or potion.Character:FindFirstChild("OddPotion")
				if _G.tool then
					break
				end
			end

			for i ,v in pairs(v.Character.Head:GetChildren()) do
				_G.tool.TransEvent:FireServer(v, 0)
				_G.tool.TransEvent:FireServer(v.Parent, 0)
			end
		end
	end

	if a[1] == "reredmines" then
		for y, potion in pairs(game.Players:GetPlayers()) do
			_G.tool = potion.Backpack:FindFirstChild("OddPotion") or potion.Character:FindFirstChild("OddPotion")
			if _G.tool then
				break
			end
		end

		if a[2] == "on" then
			for i ,v in pairs(game.Workspace.NewerMap.Obstacles.Minefield.Mines:GetDescendants()) do
				if v.Name == "Hitbox" then
					_G.tool.TransEvent:FireServer(v, 0)
				end
			end
		elseif a[2] == "off" then
			for i ,v in pairs(game.Workspace.NewerMap.Obstacles.Minefield.Mines:GetDescendants()) do
				if v.Name == "Hitbox" then
					_G.tool.TransEvent:FireServer(v, 1)
				end
			end
		end
	end

	if a[1] == "headstand" then
		if a[2] == "on" then
			for i ,v in pairs(getPlayer(a[3])) do
				_G.headstand = game:GetService("RunService").RenderStepped:Connect(function()
					localPlayer.Character.HumanoidRootPart.CFrame = v.Character.Head.CFrame + Vector3.new(0, 2.5, 0)
				end)
			end
		elseif a[2] == "off" then
			_G.headstand:Disconnect()
		end
	end

	if a[1] == "playsounds" then
		for i,v in pairs(game:GetDescendants()) do
			if v:IsA("Sound") and v.Playing == false then
				v:Play()
			end
		end
	end

	if a[1] == "tohtpend" then
		localPlayer.Character.HumanoidRootPart.CFrame = workspace.tower.sections.finish.fire.fire.CFrame + Vector3.new(0, 7, 0)
	end

	if a[1] == "tohgod" then
		local function Invincibility()
			if localPlayer.Character then
				for i, v in pairs(localPlayer.Character:GetChildren()) do
					if v.Name == "hitbox" then
						v:Destroy()
					end
				end
			end
		end

		while wait(0.5) do
			Invincibility(localPlayer)
		end
	end

	if a[1] == "rtoolmesh" then
		for i ,v in pairs(localPlayer.Backpack:GetDescendants()) do
			if v:IsA("Tool") and v:FindFirstChild("Handle") and v.Handle:FindFirstChildOfClass("SpecialMesh") ~= nil then
				v.Handle:FindFirstChildOfClass("SpecialMesh"):Destroy()
			end
		end

		for i ,v in pairs(localPlayer.Character:GetDescendants()) do
			if v:IsA("Tool") and v:FindFirstChild("Handle") and v.Handle:FindFirstChildOfClass("SpecialMesh") ~= nil then
				v.Handle:FindFirstChildOfClass("SpecialMesh"):Destroy()
			end
		end
	end

	if a[1] == "rhats" then
		for i ,v in pairs(localPlayer.Character:GetDescendants()) do
			if v:IsA("Accessory") then
				v:Destroy()
			end
		end
	end

	if a[1] == "rhatmesh" then
		for i ,v in pairs(localPlayer.Character:GetDescendants()) do
			if v:IsA("Accessory") and v.Handle:FindFirstChildOfClass("SpecialMesh") ~= nil then
				v.Handle:FindFirstChildOfClass("SpecialMesh"):Destroy()
			end
		end
	end

	if a[1] == "drophats" then
		for i ,v in pairs(localPlayer.Character:GetDescendants()) do
			if v:IsA("Accessory") then
				v.Parent = workspace
			end
		end
	end

	if a[1] == "rface" then
		localPlayer.Character.Head:WaitForChild("face"):Destroy()
	end

	if a[1] == "resmoothbomb" then
		for y, potion in pairs(game.Players:GetPlayers()) do
			_G.tool = potion.Backpack:FindFirstChild("OddPotion") or potion.Character:FindFirstChild("OddPotion")
			if _G.tool then
				break
			end
		end

		if a[2] == "on" then
			for i ,v in pairs(localPlayer.Backpack:GetChildren()) do
				if v.Name == "ImpulseGrenade" then
					for i1, v1 in pairs(localPlayer.Backpack.ImpulseGrenade.Handle:GetChildren()) do
						_G.tool.TransEvent:FireServer(v1, 1)	
					end
				end
			end

			for i ,v in pairs(localPlayer.Character:GetChildren()) do
				if v.Name == "ImpulseGrenade" then
					for i1, v1 in pairs(localPlayer.Character.ImpulseGrenade.Handle:GetChildren()) do
						_G.tool.TransEvent:FireServer(v1, 1)	
					end
				end
			end
		elseif a[2] == "off" then
			for i ,v in pairs(localPlayer.Backpack:GetChildren()) do
				if v.Name == "ImpulseGrenade" then
					for i1, v1 in pairs(localPlayer.Backpack.ImpulseGrenade.Handle:GetChildren()) do
						_G.tool.TransEvent:FireServer(v1, 0)	
					end
				end
			end

			for i ,v in pairs(localPlayer.Character:GetChildren()) do
				if v.Name == "ImpulseGrenade" then
					for i1, v1 in pairs(localPlayer.Character.ImpulseGrenade.Handle:GetChildren()) do
						_G.tool.TransEvent:FireServer(v1, 0)	
					end
				end
			end
		end
	end

	if a[1] == "rebald" then
		for y, potion in pairs(game.Players:GetPlayers()) do
			_G.tool = potion.Backpack:FindFirstChild("OddPotion") or potion.Character:FindFirstChild("OddPotion")
			if _G.tool then
				break
			end
		end

		if a[2] == "on" then
			for i ,v in pairs(getPlayer(a[3]))  do
				for i1, v1 in pairs(v.Character:GetChildren()) do
					if v1:IsA("Accessory") then
						_G.tool.TransEvent:FireServer(v1.Handle, 1)
					end
				end
			end
		elseif a[2] == "off" then
			for i ,v in pairs(getPlayer(a[3]))  do
				for i1, v1 in pairs(v.Character:GetChildren()) do
					if v1:IsA("Accessory") then
						_G.tool.TransEvent:FireServer(v1.Handle, 0)
					end
				end
			end
		end
	end

	if a[1] == "printremotes" then
		for i ,v in pairs(game:GetDescendants()) do
			if v:IsA("RemoteEvent") or v:IsA("RemoteFunction") then
				print(v.Name, " in "..v.Parent.Name.." and is a "..v.ClassName)
			end
		end
	end

	if a[1] == "run" then
		loadstring(string.sub(TextBox.Text,4))()
	end

	if a[1] == "close" then
		pcall(function()
			getgenv().Isaint = false
		end)
		IsaintGui:Destroy()
		Settings:Destroy()
	end

	if a[1] == "hh" then
		localPlayer.Character.Humanoid.HipHeight = tonumber(a[2])
	end

	if a[1] == "reinvistool" then
		createTool("Invis Tool", "Click a Part to make it Invisible!", false, false, localPlayer.Backpack)
		createTool("Vis Tool", "Click a Part to make it Invisible!", false, false, localPlayer.Backpack)
		local Tool = localPlayer.Backpack:WaitForChild("Invis Tool")
		local Tool2 = localPlayer.Backpack:WaitForChild("Vis Tool")

		for y, potion in pairs(game.Players:GetPlayers()) do
			_G.tool = potion.Backpack:FindFirstChild("OddPotion") or potion.Character:FindFirstChild("OddPotion")
			if _G.tool then
				break
			end
		end

		Tool.Equipped:Connect(function(Equipped)
			Equipped.Button1Down:Connect(function()
				_G.tool.TransEvent:FireServer(Mouse.Target, 1)	
			end)
		end)

		Tool2.Equipped:Connect(function(Equipped)
			Equipped.Button1Down:Connect(function()
				_G.tool.TransEvent:FireServer(Mouse.Target, 0)	
			end)
		end)
	end

	if a[1] == "reflyingheads" then
		for y, potion in pairs(game.Players:GetPlayers()) do
			_G.tool = potion.Backpack:FindFirstChild("OddPotion") or potion.Character:FindFirstChild("OddPotion")
			if _G.tool then
				break
			end
		end

		if a[2] == "on" then
			for i ,v in pairs(game.Players:GetPlayers()) do
				for i1, v1 in pairs(v.Character:GetDescendants()) do
					if v1.Name == "HumanoidRootPart" or v1.Name == "Head" or v1.Name == "face" then
						print("no")
					else
						_G.tool.TransEvent:FireServer(v1, 1)
					end
				end
			end
		elseif a[2] == "off" then
			for i ,v in pairs(game.Players:GetPlayers()) do
				for i1, v1 in pairs(v.Character:GetDescendants()) do
					if v1.Name == "HumanoidRootPart" or v1.Name == "Head" or v1.Name == "face" then
						print("no")
					else
						_G.tool.TransEvent:FireServer(v1, 0)
					end
				end
			end
		end
	end

	if a[1] == "renoragcooldown" then
		if a[2] == "on" then
			noragcooldown = game:GetService("RunService").RenderStepped:Connect(function()
				game:GetService("ReplicatedStorage").Delay.Value = 0
			end)
		elseif a[2] == "off" then
			noragcooldown:Disconnect()
		end
	end

	if a[1] == "remapvis" then
		for y, potion in pairs(game.Players:GetPlayers()) do
			_G.tool = potion.Backpack:FindFirstChild("OddPotion") or potion.Character:FindFirstChild("OddPotion")
			if _G.tool then
				break
			end
		end

		for i ,v in pairs(workspace.NewerMap:GetDescendants()) do
			_G.tool.TransEvent:FireServer(v, tonumber(a[2]))	
		end
	end

	if a[1] == "replayervis" then
		for y, potion in pairs(game.Players:GetPlayers()) do
			_G.tool = potion.Backpack:FindFirstChild("OddPotion") or potion.Character:FindFirstChild("OddPotion")
			if _G.tool then
				break
			end
		end

		for i ,v in pairs(getPlayer(a[2])) do
			for i1, v1 in pairs(v.Character:GetDescendants()) do
				if v1.Name ~= "HumanoidRootPart" then
					_G.tool.TransEvent:FireServer(v1, tonumber(a[3]))
				end
			end
		end
	end

	if a[1] == "reblockplayer" then
		for y, potion in pairs(game.Players:GetPlayers()) do
			_G.tool = potion.Backpack:FindFirstChild("OddPotion") or potion.Character:FindFirstChild("OddPotion")
			if _G.tool then
				break
			end
		end

		if a[2] == "on" then
			for i ,v in pairs(getPlayer(a[3])) do
				for a,b in pairs(v.Character:GetChildren()) do
					if b.Name == "HumanoidRootPart" then
						_G.tool.TransEvent:FireServer(b, 0)
					end
				end
			end
		elseif a[2] == "off" then
			for i ,v in pairs(getPlayer(a[3])) do
				for a,b in pairs(v.Character:GetChildren()) do
					if b.Name == "HumanoidRootPart" then
						_G.tool.TransEvent:FireServer(b, 1)
					end
				end
			end
		end
	end

	if a[1] == "restairvis" then
		for y, potion in pairs(game.Players:GetPlayers()) do
			_G.tool = potion.Backpack:FindFirstChild("OddPotion") or potion.Character:FindFirstChild("OddPotion")
			if _G.tool then
				break
			end
		end

		for i ,v in pairs(workspace.NewerMap.Obstacles.Stairs:GetChildren()) do
			if v.Name == "Part" then
				_G.tool.TransEvent:FireServer(v, a[2])
			end
		end
		for i ,v in pairs(workspace.NewerMap.Obstacles.Escalators.Stairs:GetChildren()) do
			_G.tool.TransEvent:FireServer(v, a[2])
		end

		for i ,v in pairs(workspace.NewerMap.Obstacles.SpiralStairsV3:GetChildren()) do
			if v.Name == "Stair" or v.Name == "Stairs" then
				_G.tool.TransEvent:FireServer(v, a[2])
			end
		end
	end

	if a[1] == "refakekorblox" then
		for y, potion in pairs(game.Players:GetPlayers()) do
			_G.tool = potion.Backpack:FindFirstChild("OddPotion") or potion.Character:FindFirstChild("OddPotion")
			if _G.tool then
				break
			end
		end

		if a[2] == "on" then
			for i, v in pairs(getPlayer(a[3])) do
				if v.Character.Humanoid.RigType == Enum.HumanoidRigType.R15 then
					_G.tool.TransEvent:FireServer(v.Character.RightFoot, 1)
					_G.tool.TransEvent:FireServer(v.Character.RightUpperLeg, 1)
					_G.tool.TransEvent:FireServer(v.Character.RightLowerLeg, 1)
				else
					_G.tool.TransEvent:FireServer(v.Character["Right Leg"], 1)
				end
			end
		elseif a[2] == "off" then
			for i, v in pairs(getPlayer(a[3])) do
				if v.Character.Humanoid.RigType == Enum.HumanoidRigType.R15 then
					_G.tool.TransEvent:FireServer(v.Character.RightFoot, 0)
					_G.tool.TransEvent:FireServer(v.Character.RightUpperLeg, 0)
					_G.tool.TransEvent:FireServer(v.Character.RightLowerLeg, 0)
				else
					_G.tool.TransEvent:FireServer(v.Character["Right Leg"], 0)
				end
			end
		end
	end

	if a[1] == "reonlylegs" then
		for y, potion in pairs(game.Players:GetPlayers()) do
			_G.tool = potion.Backpack:FindFirstChild("OddPotion") or potion.Character:FindFirstChild("OddPotion")
			if _G.tool then
				break
			end
		end

		if a[2] == "on" then
			for i, player in pairs(game.Players:GetPlayers()) do
				for i ,v in pairs(player.Character:GetDescendants()) do
					if player.Character.Humanoid.RigType == Enum.HumanoidRigType.R15 then
						if v.Name == "RightFoot" or v.Name == "RightUpperLeg" or v.Name == "RightLowerLeg" or v.Name == "LeftFoot" or v.Name == "LeftUpperLeg" or v.Name == "LeftLowerLeg" then
							print("no")
						else
							_G.tool.TransEvent:FireServer(v, 1)
						end
					else
						if v.Name == "Right Leg" or v.Name == "Left Leg" then
							print("no")
						else
							_G.tool.TransEvent:FireServer(v, 1)
						end
					end
				end
			end
		elseif a[2] == "off" then
			for i, player in pairs(game.Players:GetPlayers()) do
				for i ,v in pairs(player.Character:GetDescendants()) do
					if player.Character.Humanoid.RigType == Enum.HumanoidRigType.R15 then
						if v.Name == "RightFoot" or v.Name == "RightUpperLeg" or v.Name == "RightLowerLeg" or v.Name == "LeftFoot" or v.Name == "LeftUpperLeg" or v.Name == "LeftLowerLeg" or v.Name == "HumanoidRootPart" then
							print("no")
						else
							_G.tool.TransEvent:FireServer(v, 0)
						end
					else
						if v.Name == "Right Leg" or v.Name == "Left Leg" or v.Name == "HumanoidRootPart" then
							print("no")
						else
							_G.tool.TransEvent:FireServer(v, 0)
						end
					end
				end
			end
		end
	end

	if a[1] == "spin" then
		if a[2] == "on" then
			for i ,v in pairs(localPlayer.Character:GetDescendants()) do
				if v.Name == "Spin" then
					v:Destroy()
				end
			end

			local b = Instance.new("BodyAngularVelocity", localPlayer.Character.HumanoidRootPart)
			b.Name = "Spin"
			b.MaxTorque = Vector3.new(0,math.huge,0)
			if a[3] then
				b.AngularVelocity = Vector3.new(0, tonumber(a[3]), 0)
			else
				b.AngularVelocity = Vector3.new(0, 10, 0)
			end
		elseif a[2] == "off" then
			for i ,v in pairs(localPlayer.Character:GetDescendants()) do
				if v.Name == "Spin" then
					v:Destroy()
				end
			end
		end
	end

	if a[1] == "seizure" then
		if a[2] == "on" then
			local localPlayer = localPlayer
			for i ,v in pairs(localPlayer.Character:GetDescendants()) do
				if v.Name == "Spin" then
					v:Destroy()
				end
			end

			workspace.Gravity = 900

			local b = Instance.new("BodyAngularVelocity", localPlayer.Character.HumanoidRootPart)
			b.Name = "Spin"
			b.MaxTorque = Vector3.new(math.huge,math.huge,math.huge)
			b.AngularVelocity = Vector3.new(10,10,10)
			weirdbody = game:GetService("RunService").RenderStepped:Connect(function()
				localPlayer.Character.Humanoid.Jump = true
				localPlayer.Character.Humanoid.Sit = true
			end)
		elseif a[2] == "off" then
			weirdbody:Disconnect()
			workspace.Gravity = 196.2
			localPlayer.Character.Humanoid.Jump = true
			for i ,v in pairs(localPlayer.Character:GetDescendants()) do
				if v.Name == "Spin" then
					v:Destroy()
				end
			end
		end
	end

	if a[1] == "launch" then
		if a[2] == "on" then
			for i,v in pairs(localPlayer.Character:GetDescendants()) do
				if v.Name == "launch" then
					v:Destroy()
				end
			end


			local rocket = Instance.new("BodyVelocity")
			rocket.Name = "launch"
			rocket.Parent = localPlayer.Character.HumanoidRootPart
			rocket.MaxForce = Vector3.new(math.huge,math.huge, math.huge)
			rocket.Velocity = Vector3.new(0, 200, 0)

		elseif a[2] == "off" then
			for i,v in pairs(localPlayer.Character:GetDescendants()) do
				if v.Name == "launch" then
					v:Destroy()
				end
			end
		end
	end

	if a[1] == "inviscam" then
		local on = true

		if a[2] == "on" then
			while on do
				localPlayer.DevCameraOcclusionMode = Enum.DevCameraOcclusionMode.Invisicam
				wait(0.5)
			end
		else
			on = false
		end
	end

	if a[1] == "sync" then
		for i ,v in pairs(getPlayer(a[2])) do
			local hum = localPlayer.Character:WaitForChild("Humanoid")
			local hum2 = v.Character:WaitForChild("Humanoid")
			local anim = hum:WaitForChild("Animator")
			local anim2 = hum2:WaitForChild("Animator")
			local animtracks = anim2:GetPlayingAnimationTracks()

			for a, b in pairs(animtracks) do
				local track = anim:LoadAnimation(b.Animation)
				track.Priority = Enum.AnimationPriority.Core
				track:Play()
				track.TimePosition = b.TimePosition
				track:AdjustSpeed(b.Speed)
			end
		end
	end

	if a[1] == "sit" then
		localPlayer.Character.Humanoid.Sit = true
	end

	if a[1] == "settings" then
		SettingsTweenIn1:Play()
	end

	if a[1] == "float" then
		if not workspace:FindFirstChild("PlatformFloatPart") then

			local abc = TextBox.Text:split(" ,") or TextBox.Text:split(",") or TextBox.Text:split(", ")
			local localPlayer = game.Players.LocalPlayer
			local inputService = game:GetService("UserInputService")

			local config = {
				up = Enum.KeyCode.E,
				down = Enum.KeyCode.Q,
				toggle = Enum.KeyCode.G,
				uploop = false,
				downloop = false,
				enabled = false,
			}

			local function getyposition()
				local ypos = nil
				ypos = localPlayer.Character.HumanoidRootPart.Position.Y - 3.1
				return ypos
			end

			local PosPart = localPlayer.Character.HumanoidRootPart
			local OriginalY = getyposition()
			local NewY = OriginalY

			local Part = Instance.new("Part")
			Part.Name = "PlatformFloatPart"
			Part.Transparency = 0
			Part.Anchored = true
			Part.CanCollide = true
			Part.Size = Vector3.new(5, 0.5, 5)
			Part.Parent = workspace
			Part.Position = Vector3.new(PosPart.Position.X, NewY, PosPart.Position.Z)


			spawn(function()
				floatloop1 = game:GetService("RunService").RenderStepped:Connect(function()
					if config.enabled then
						Part.Position = Vector3.new(PosPart.Position.X, NewY, PosPart.Position.Z)
					elseif not config.enabled then
						Part.Transparency = 1
						Part.CanCollide = false
					end
				end)
			end)

			spawn(function()
				floatloop2 = game:GetService("RunService").RenderStepped:Connect(function()
					if config.uploop then
						if not inputService:GetFocusedTextBox() then
							print("going up")
							NewY = NewY + floatupspeed
						else
							print("tried going up but focused a text box")
						end
					elseif config.downloop then
						if not inputService:GetFocusedTextBox() then
							print("going down")
							NewY = NewY - floatdownspeed
						else
							print("tried going down but focused a text box")
						end
					end
				end)
			end)

			inputService.InputBegan:Connect(function(input)
				if input.KeyCode == config.toggle then
					if not inputService:GetFocusedTextBox() then
						config.enabled = not config.enabled

						if config.enabled then
							NewY = getyposition()
							Part.Position = Vector3.new(PosPart.Position.X, OriginalY, PosPart.Position.Z)
							Part.Transparency = 0
							Part.CanCollide = true
						elseif not config.enabled then
							Part.Transparency = 1
							Part.CanCollide = false
						end
					else
						print("tried to toggle but focused a text box")
					end
				elseif input.KeyCode == config.up then
					config.uploop = true
				elseif input.KeyCode == config.down then
					config.downloop = true
				end
			end)

			inputService.InputEnded:Connect(function(input)
				if input.KeyCode == config.up then
					config.uploop = false
				elseif input.KeyCode == config.down then
					config.downloop = false
				end
			end)

			localPlayer.Character.Humanoid.Died:Connect(function()
				floatloop1:Disconnect()
				floatloop2:Disconnect()
				Part:Destroy()
			end)
		else

			workspace:FindFirstChild("PlatformFloatPart"):Destroy()
			floatloop1:Disconnect()
			floatloop2:Disconnect()

			local abc = TextBox.Text:split(" ,") or TextBox.Text:split(",") or TextBox.Text:split(", ")
			local localPlayer = game.Players.LocalPlayer
			local inputService = game:GetService("UserInputService")

			local config = {
				up = Enum.KeyCode.E,
				down = Enum.KeyCode.Q,
				toggle = Enum.KeyCode.G,
				uploop = false,
				downloop = false,
				enabled = false,
			}

			local function getyposition()
				local ypos = nil
				ypos = localPlayer.Character.HumanoidRootPart.Position.Y - 3.1
				return ypos
			end

			local PosPart = localPlayer.Character.HumanoidRootPart
			local OriginalY = getyposition()
			local NewY = OriginalY

			local Part = Instance.new("Part")
			Part.Name = "PlatformFloatPart"
			Part.Transparency = 0
			Part.Anchored = true
			Part.CanCollide = true
			Part.Size = Vector3.new(5, 0.5, 5)
			Part.Parent = workspace
			Part.Position = Vector3.new(PosPart.Position.X, NewY, PosPart.Position.Z)


			spawn(function()
				floatloop1 = game:GetService("RunService").RenderStepped:Connect(function()
					if config.enabled then
						Part.Position = Vector3.new(PosPart.Position.X, NewY, PosPart.Position.Z)
					elseif not config.enabled then
						Part.Transparency = 1
						Part.CanCollide = false
					end
				end)
			end)

			spawn(function()
				floatloop2 = game:GetService("RunService").RenderStepped:Connect(function()
					if config.uploop then
						if not inputService:GetFocusedTextBox() then
							print("going up")
							NewY = NewY + floatupspeed
						else
							print("tried going up but focused a text box")
						end
					elseif config.downloop then
						if not inputService:GetFocusedTextBox() then
							print("going down")
							NewY = NewY - floatdownspeed
						else
							print("tried going down but focused a text box")
						end
					end
				end)
			end)

			inputService.InputBegan:Connect(function(input)
				if input.KeyCode == config.toggle then
					if not inputService:GetFocusedTextBox() then
						config.enabled = not config.enabled

						if config.enabled then
							NewY = getyposition()
							Part.Position = Vector3.new(PosPart.Position.X, OriginalY, PosPart.Position.Z)
							Part.Transparency = 0
							Part.CanCollide = true
						elseif not config.enabled then
							Part.Transparency = 1
							Part.CanCollide = false
						end
					else
						print("tried to toggle but focused a text box")
					end
				elseif input.KeyCode == config.up then
					config.uploop = true
				elseif input.KeyCode == config.down then
					config.downloop = true
				end
			end)

			inputService.InputEnded:Connect(function(input)
				if input.KeyCode == config.up then
					config.uploop = false
				elseif input.KeyCode == config.down then
					config.downloop = false
				end
			end)

			localPlayer.Character.Humanoid.Died:Connect(function()
				floatloop1:Disconnect()
				floatloop2:Disconnect()
				Part:Destroy()
			end)
		end
	end

	if a[1] == "floatspeed" then
		if a[2] then
			floatupspeed = tonumber(a[2])
			if a[3] then
				floatdownspeed = tonumber(a[3])
			else
				floatdownspeed = floatdownspeed
			end
		end
	end

	if a[1] == "headhitter" then
		local PosPart = localPlayer.Character.HumanoidRootPart
		local config = {
			toggle = Enum.KeyCode.R,
			enabled = false
		}

		local Part1 = Instance.new("Part")
		Part1.Transparency = 0
		Part1.Anchored = true
		Part1.CanCollide = true
		Part1.Size = Vector3.new(5, 0.5, 5)
		Part1.Parent = workspace
		Part1.Position = Vector3.new(PosPart.Position.X, localPlayer.Character.HumanoidRootPart.Position.Y + 3.2, PosPart.Position.Z)

		spawn(function()
			headhitterloop = game:GetService("RunService").RenderStepped:Connect(function()
				if config.enabled then
					Part1.Position = Vector3.new(PosPart.Position.X, localPlayer.Character.HumanoidRootPart.Position.Y + 3.2, PosPart.Position.Z)
				elseif not config.enabled then
					Part1.Transparency = 1
					Part1.CanCollide = false
				end
			end)
		end)

		inputService.InputBegan:Connect(function(input)
			if input.KeyCode == config.toggle then
				if not inputService:GetFocusedTextBox() then
					config.enabled = not config.enabled

					if config.enabled then
						Part1.Position = Vector3.new(PosPart.Position.X, localPlayer.Character.HumanoidRootPart.Position.Y + 3.2, PosPart.Position.Z)
						Part1.Transparency = 0
						Part1.CanCollide = true
					elseif not config.enabled then
						Part1.Transparency = 1
						Part1.CanCollide = false
					end
				else
					print("tried to toggle but focused a text box")
				end
			end
		end)

		localPlayer.Character.Humanoid.Died:Connect(function()
			headhitterloop:Disconnect()
			Part1:Destroy()
		end)
	end

	if a[1] == "refixkorblox" then
		for y, potion in pairs(game.Players:GetPlayers()) do
			_G.tool = potion.Backpack:FindFirstChild("OddPotion") or potion.Character:FindFirstChild("OddPotion")
			if _G.tool then
				break
			end
		end

		if a[2] == "on" then
			for i ,v in pairs(getPlayer(a[3])) do
				pcall(function()
					_G.tool.TransEvent:FireServer(v.Character.RightFoot, 1)
					_G.tool.TransEvent:FireServer(v.Character.RightLowerLeg, 1)
				end)
			end
		elseif a[2] == "off" then
			for i ,v in pairs(getPlayer(a[3])) do
				pcall(function()
					_G.tool.TransEvent:FireServer(v.Character.RightFoot, 0)
					_G.tool.TransEvent:FireServer(v.Character.RightLowerLeg, 0)
				end)
			end
		end
	end
	
	if a[1] == "lag" then
		if a[2] == "on" then
			fakelagging = true
			localPlayer.Character.Humanoid.JumpPower = 60
			while fakelagging do
				localPlayer.Character.HumanoidRootPart.Anchored = true
				wait(0.2)
				localPlayer.Character.HumanoidRootPart.Anchored = false
				wait(0.2)
			end
		elseif a[2] == "off" then
			fakelagging = false
			localPlayer.Character.Humanoid.JumpPower = 50
		end
	end
	
	if a[1] == "blow" then
		if a[2] == "on" then
			localPlayer.Character.Humanoid.Sit = true
			
			for i ,v in pairs(getPlayer(a[3])) do
				spawn(function()
					blow = game:GetService("RunService").RenderStepped:Connect(function()
						localPlayer.Character.HumanoidRootPart.CFrame = v.Character.HumanoidRootPart.CFrame - Vector3.new(0,-1,0)
					end)
				end)
			end
		end
	end
end)


CloseButton.MouseButton1Click:Connect(function()
	SettingsTweenOut1:Play()
end)

local Dragging = false
Slider.MouseButton1Down:Connect(function()
	Dragging = true
end)

inputService.InputChanged:Connect(function()
	if Dragging then
		local MousePos = inputService:GetMouseLocation() + Vector2.new(0,36)
		local RelPos = MousePos - FlySpeedSlider.AbsolutePosition
		local Precent = math.clamp(RelPos.X/FlySpeedSlider.AbsoluteSize.X,0,1)
		Slider.Position = UDim2.new(Precent,0,-2.333,0)
		speed = Precent * 500
		maxspeed = Precent * 500
		TextLabel.Text = Precent * 500
	end
end)

inputService.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		Dragging = false
	end
end)
